<!--pages/login/login.wxml-->
<view class="container">
  <view class="header">
    <image class="logo" src="/assets/images/logo.png" mode="aspectFit"></image>
    <text class="title">儿童乐园</text>
  </view>

  <view class="form">
    <view class="input-group">
      <text class="label">手机号</text>
      <input 
        class="input" 
        type="number" 
        maxlength="11" 
        placeholder="请输入手机号" 
        value="{{phone}}"
        bindinput="onPhoneInput"
      />
    </view>

    <view class="input-group">
      <text class="label">验证码</text>
      <view class="code-input-group">
        <input 
          class="input code-input" 
          type="number" 
          maxlength="6" 
          placeholder="请输入验证码" 
          value="{{code}}"
          bindinput="onCodeInput"
        />
        <button 
          class="code-btn {{!canGetCode || isCounting ? 'disabled' : ''}}" 
          bindtap="getVerificationCode"
          disabled="{{!canGetCode || isCounting}}"
        >
          {{isCounting ? countdown + 's' : '获取验证码'}}
        </button>
      </view>
    </view>

    <button 
      class="login-btn {{!canLogin ? 'disabled' : ''}}" 
      bindtap="handleLogin"
      disabled="{{!canLogin}}"
    >
      登录
    </button>

    <view class="register-link" bindtap="goToRegister">
      还没有账号？立即注册
    </view>
  </view>

  <view class="footer">
    <text class="agreement">登录即表示同意</text>
    <text class="link">《用户协议》</text>
    <text class="agreement">和</text>
    <text class="link">《隐私政策》</text>
  </view>
</view>